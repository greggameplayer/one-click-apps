captainVersion: 4
services:
    $$cap_appname:
        caproverExtra:
            dockerfileLines: ['FROM  node:alpine','USER root','RUN apk add --no-cache g++ gcc git libxml2 libxml2-dev libxslt-dev linux-headers make', 'RUN apk add --no-cache python2 && python -m ensurepip && rm -r /usr/lib/python*/ensurepip && pip install --upgrade pip setuptools && rm -r /root/.cache','RUN npm install -g @quasar/cli && npm install -g @vue/cli && npm install -g @vue/cli-init','RUN mkdir /home/node/app','WORKDIR /home/node/app','RUN git clone $$cap_APP_GIT_REPO ./ && npm i','RUN quasar build -m spa','EXPOSE 80','CMD ['npm', 'i']','ENTRYPOINT ['npm', 'start']']
        restart: always
        ports:
            - $$cap_APP_PORT:$$cap_APP_PORT
        volumes:
            - $$cap_appname-data:/data
        environment:
            NODE_ENV: production

caproverOneClickApp:
    variables:
        - label: 'Port to open'
          description: Port to access the quasar pages
          defaultValue: '8080'
          id: $$cap_APP_PORT

        - label: 'Git repository'
          description: Git repository which will be cloned
          defaultValue: 'http://'
          id: $$cap_APP_GIT_REPO

    displayName: Quasar
    isOfficial: true
    description: A Vuejs framework using node.
    documentation: https://github.com/quasarframework/quasar
    instructions:
        start: |-
            A Vuejs framework using node.
            GitHub: https://github.com/quasarframework/quasar
        end: |-
            You're done! ðŸ˜„

            Your service is available at http://$$cap_appname.$$cap_root_domain